<!DOCTYPE HTML>
<html>
  <head>
    <link rel="Stylesheet" type="text/css" href="/wiki/static/css/colorful.css">
    <link rel="Stylesheet" type="text/css" href="/wiki/static/css/style.css">
    <link rel="shortcut icon" href="/wiki/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/wiki/favicon.ico" type="image/x-icon">
    <link rel="alternate" type="application/atom+xml" href="atom.xml" title="Atom feed">
    <title>SimikiWiki - Uxun's WIKI</title>
    <meta name="keywords" content=""/>
    <meta name="description" content=""/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
  </head>

  <body>
    <div id="container" class="typo">
      
<div id="header">
  <div id="post-nav">
    <a href="/wiki/">Uxun's WIKI</a>
    &nbsp;&#187;&nbsp;
    <a href="/wiki/#../../../Dropbox/wiki/client">../../../Dropbox/wiki/client</a>
    &nbsp;&#187;&nbsp;SimikiWiki
    <span class="updated">Page Updated&nbsp;
    2019-08-18 21:16
    </span>
  </div>
</div>
<div class="clearfix"></div>
<div id="content">
  <h2 id="simiki-wiki">Simiki wiki</h2>
<p><strong><a href="http://simiki.org/zh-docs/">REFERNECE</a></strong></p>
<blockquote>
<p>配置文件参数<br />
_config.yml：http://simiki.org/zh-docs/configuration.html</p>
</blockquote>
<h3 id="1prepare">1.Prepare</h3>
<div class="hlcode"><pre><span class="err">#</span> <span class="mi">1</span><span class="o">&gt;</span> <span class="nb">install</span> <span class="nx">python</span>
<span class="err">$</span> <span class="nx">brew</span> <span class="nb">install</span> <span class="nx">python3</span>
<span class="err">#</span> <span class="mi">2</span><span class="o">&gt;</span> <span class="nb">install</span> <span class="nx">simiki</span> <span class="nx">depend</span>
<span class="err">$</span> <span class="nx">pip3</span> <span class="nb">install</span> <span class="nx">simiki</span> 
<span class="err">$</span> <span class="nx">pip3</span> <span class="nx">show</span> <span class="nx">simiki</span>
<span class="err">$</span> <span class="nx">pip3</span> <span class="nb">install</span> <span class="nx">fabric</span>
<span class="err">$</span> <span class="nx">pip3</span> <span class="nb">install</span> <span class="nx">fabric3</span>
<span class="err">$</span> <span class="nx">pip3</span> <span class="nb">install</span> <span class="nx">ghp</span><span class="na">-import</span> 
<span class="err">#</span> <span class="mi">3</span><span class="o">&gt;</span> <span class="nb">create</span> <span class="o">&lt;</span><span class="nx">uname</span><span class="o">&gt;</span><span class="bp">.</span><span class="nx">github.io</span> <span class="o">---&gt;</span> <span class="nx">https</span><span class="p">:</span><span class="c1">//pages.github.com/</span>
</pre></div>


<h3 id="2init">2.<a href="http://simiki.org/zh-docs/deploy.html">Init</a></h3>
<div class="hlcode"><pre><span class="cp"># clone your wiki.git</span>
<span class="err">$</span> <span class="n">git</span> <span class="n">clone</span> <span class="n">git</span><span class="err">@</span><span class="n">github</span><span class="p">.</span><span class="n">com</span><span class="o">:</span><span class="n">uname</span><span class="o">/</span><span class="n">wiki</span><span class="p">.</span><span class="n">git</span>
<span class="cp"># create branch gh-pages</span>
<span class="err">$</span> <span class="n">git</span> <span class="n">checkout</span> <span class="o">-</span><span class="n">b</span> <span class="n">gh</span><span class="o">-</span><span class="n">pages</span>
<span class="err">$</span> <span class="n">git</span> <span class="n">rm</span> <span class="o">-</span><span class="n">rf</span> <span class="p">.</span>

<span class="cp"># checkout your master branch init</span>
<span class="err">$</span> <span class="n">git</span> <span class="n">checkout</span> <span class="n">master</span>
<span class="err">$</span> <span class="n">simiki</span> <span class="n">init</span>
<span class="err">$</span> <span class="n">simiki</span> <span class="n">g</span>

<span class="cp"># 目录结构</span>
<span class="err">$</span> <span class="n">ls</span> <span class="n">wiki</span>
<span class="p">.</span>
<span class="err">├──</span> <span class="n">_config</span><span class="p">.</span><span class="n">yml</span> <span class="err">#</span> <span class="err">配置文件</span>
<span class="err">├──</span> <span class="n">content</span>     <span class="err">#</span> <span class="o">*</span><span class="p">.</span><span class="n">md</span>
<span class="err">├──</span> <span class="n">fabfile</span><span class="p">.</span><span class="n">py</span>  <span class="err">#</span> <span class="n">deploy</span> <span class="n">script</span>
<span class="err">├──</span> <span class="n">output</span>      <span class="err">#</span> <span class="n">html</span>
<span class="err">└──</span> <span class="n">themes</span>
    <span class="err">└──</span> <span class="n">simple2</span>
</pre></div>


<h3 id="3deploy-github-pages">3.Deploy Github Pages</h3>
<p>1)配置_config.yml中的deploy配置项：6._config.yml<br />
2)确认本地与远程仓库的关联<code>git remote -v</code> <br />
3)fab deploy 实际执行<a href="https://github.com/davisp/ghp-import">ghp-import</a> <code>ghp-import -p -m "Update output documentation" -r origin -b gh-pages output</code>，</p>
<div class="hlcode"><pre><span class="cp"># 以git底层命令 git fast-import遍历output目录所有推送gh-pages分支</span>
<span class="err">$</span> <span class="n">fab</span> <span class="n">deploy</span>
</pre></div>


<h3 id="4simiki-command">4.Simiki <a href="http://simiki.org/zh-docs/usage.html">Command</a></h3>
<div class="hlcode"><pre><span class="cp"># 查看 simiki 命令帮助文档</span>
<span class="err">$</span> <span class="n">simiki</span> <span class="o">-</span><span class="n">h</span>

<span class="cp"># 生成静态页面到output目录 (需要在站点根目录下执行)</span>
<span class="err">$</span> <span class="n">simiki</span> <span class="n">g</span>

<span class="cp"># 生成静态页面(包括草稿)到output目录 (需要在站点根目录下执行)</span>
<span class="err">$</span> <span class="n">simiki</span> <span class="n">g</span> <span class="o">--</span><span class="n">draft</span>

<span class="cp"># 本地预览模式(开发模式)</span>
<span class="err">$</span> <span class="n">simiki</span> <span class="n">p</span>

<span class="cp"># 本地预览模式指定绑定IP和端口, 如绑定到所有IP的8888端口</span>
<span class="err">$</span> <span class="n">simiki</span> <span class="n">p</span> <span class="o">--</span><span class="n">host</span> <span class="mf">0.0.0.0</span> <span class="o">--</span><span class="n">port</span> <span class="mi">8888</span>

<span class="cp"># 本地预览模式监控content目录, 有变更自动更新生成相应静态页面</span>
<span class="err">$</span> <span class="n">simiki</span> <span class="n">p</span> <span class="o">-</span><span class="n">w</span>

<span class="cp"># 升级Simiki后检查和更新本地内置的脚本及主题(如fabfile.py, simple2主题)</span>
<span class="err">$</span> <span class="n">simiki</span> <span class="n">update</span>
</pre></div>


<h3 id="5collectiontag">5.<a href="http://simiki.org/zh-docs/collection_and_tag.html">Collection/Tag</a></h3>
<p><strong>集合(collection)</strong></p>
<div class="hlcode"><pre><span class="o">---</span>
<span class="nl">title:</span> <span class="s">&quot;Git&quot;</span>
<span class="nl">date:</span> <span class="mi">2019</span><span class="o">-</span><span class="mo">01</span><span class="o">-</span><span class="mo">01</span> <span class="mo">00</span><span class="o">:</span><span class="mo">00</span>
<span class="nl">collection:</span> <span class="n">Version</span> <span class="n">Control</span>
<span class="o">---</span>

<span class="o">---</span>
<span class="nl">title:</span> <span class="s">&quot;SVN&quot;</span>
<span class="nl">date:</span> <span class="mi">2019</span><span class="o">-</span><span class="mo">01</span><span class="o">-</span><span class="mo">02</span> <span class="mo">00</span><span class="o">:</span><span class="mo">00</span>
<span class="nl">collection:</span> <span class="n">Version</span> <span class="n">Control</span>
<span class="o">---</span>
</pre></div>


<p><strong>标签(tag)</strong><br />
标签使多篇Wiki之间互相有关联性。</p>
<div class="hlcode"><pre><span class="o">---</span>
<span class="nl">title:</span> <span class="s">&quot;Practical Vim&quot;</span>
<span class="nl">date:</span> <span class="mi">2014</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">13</span> <span class="mi">22</span><span class="o">:</span><span class="mi">11</span>
<span class="nl">tag:</span> <span class="n">vim</span>  <span class="err">#</span> <span class="err">以逗号分隔的字符串方式配置</span><span class="n">tag</span>
<span class="o">---</span>

<span class="o">==&gt;</span> <span class="n">content</span><span class="o">/</span><span class="n">tool</span><span class="o">/</span><span class="n">vim</span><span class="p">.</span><span class="n">md</span> <span class="o">&lt;==</span>
<span class="o">---</span>
<span class="nl">title:</span> <span class="s">&quot;Vim&quot;</span>
<span class="nl">date:</span> <span class="mi">2013</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">17</span> <span class="mo">07</span><span class="o">:</span><span class="mi">32</span>
<span class="nl">tag:</span>  <span class="err">#</span> <span class="err">以列表的方式配置</span><span class="n">tag</span>
  <span class="o">-</span> <span class="n">vim</span>
<span class="o">---</span>
</pre></div>


<h3 id="6_configyml-refernece">6._config.yml <a href="http://simiki.org/zh-docs/configuration.html">REFERNECE</a></h3>
<div class="hlcode"><pre><span class="cp"># Document:</span>
<span class="cp"># http:</span><span class="c1">//simiki.org/docs/configuration.html</span>
<span class="nl">url:</span> <span class="n">http</span><span class="o">:</span><span class="c1">//NAME.github.io/wiki</span>
<span class="nl">title:</span> <span class="n">NAME</span><span class="err">&#39;</span><span class="n">s</span> <span class="n">WIKI</span>
<span class="nl">keywords:</span>
<span class="nl">description:</span>
<span class="nl">author:</span> <span class="n">AUTHOR</span>
<span class="nl">theme:</span> <span class="n">yasimple_x2</span>
<span class="cp">#theme: simple2</span>

<span class="nl">root:</span> <span class="o">/</span><span class="n">wiki</span>
<span class="nl">source:</span> <span class="n">content</span>
<span class="nl">destination:</span> <span class="n">output</span>
<span class="nl">themes_dir:</span> <span class="n">themes</span>

<span class="cp">##### Parser #####</span>
<span class="nl">markdown:</span>
  <span class="o">-</span> <span class="n">fenced_code</span>
  <span class="o">-</span> <span class="n">extra</span>
  <span class="o">-</span> <span class="n">codehilite</span><span class="p">(</span><span class="n">css_class</span><span class="o">=</span><span class="n">hlcode</span><span class="p">,</span> <span class="n">linenums</span><span class="o">=</span><span class="n">False</span><span class="p">)</span>
  <span class="o">-</span> <span class="n">toc</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="n">Table</span> <span class="n">of</span> <span class="n">Contents</span><span class="p">)</span>

<span class="nl">default_ext:</span> <span class="n">md</span>
<span class="nl">pygments:</span> <span class="nb">true</span>
<span class="nl">debug:</span> <span class="nb">false</span>

<span class="cp">#category:</span>
<span class="cp">#  - name: linux  # 目录名</span>
<span class="cp">#    label: Linux/运维  # 目录的别名, 生成首页时可以使用</span>
<span class="cp">#  - name: database</span>
<span class="cp">#    label: 数据库</span>
<span class="cp">#</span>

<span class="cp">##### Deploy #####</span>
<span class="nl">deploy:</span>
  <span class="o">-</span> <span class="n">type</span><span class="o">:</span> <span class="n">git</span>
    <span class="nl">remote:</span> <span class="n">origin</span>
    <span class="nl">branch:</span> <span class="n">gh</span><span class="o">-</span><span class="n">pages</span>
</pre></div>
  
</div>
    </div>
    <div id="footer">
      <div class="footer-left">
        <p>
        Copyright © 2019 Uxun.
        Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.
        Theme by <a href="https://github.com/tankywoo/yasimple_x2" target="_blank">YASimple_X2</a>.
        </p>
      </div> <!-- end footer-left -->
      <div class="footer-right">
        <p>Page Updated 2019-09-04 12:29:23</p>
      </div> <!-- end footer-right -->
    </div>

    
    

  </body>
</html>