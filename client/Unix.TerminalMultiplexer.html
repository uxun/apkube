<!DOCTYPE HTML>
<html>
  <head>
    <link rel="Stylesheet" type="text/css" href="/wiki/static/css/colorful.css">
    <link rel="Stylesheet" type="text/css" href="/wiki/static/css/style.css">
    <link rel="shortcut icon" href="/wiki/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/wiki/favicon.ico" type="image/x-icon">
    <link rel="alternate" type="application/atom+xml" href="atom.xml" title="Atom feed">
    <title>TerminalMultiplexer - Uxun's WIKI</title>
    <meta name="keywords" content=""/>
    <meta name="description" content=""/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
  </head>

  <body>
    <div id="container" class="typo">
      
<div id="header">
  <div id="post-nav">
    <a href="/wiki/">Uxun's WIKI</a>
    &nbsp;&#187;&nbsp;
    <a href="/wiki/#client">client</a>
    &nbsp;&#187;&nbsp;TerminalMultiplexer
    <span class="updated">Page Updated&nbsp;
    2019-08-21 13:00
    </span>
  </div>
</div>
<div class="clearfix"></div>
<div id="content">
  <h2 id="termina-multiplexer">Termina Multiplexer</h2>
<ol>
<li><a href="https://github.com/tmux/tmux">Tmux</a></li>
<li><a href="https://www.gnu.org/software/screen/">Screen</a></li>
</ol>
<h3 id="tmux-command">Tmux Command</h3>
<p><strong>install</strong></p>
<div class="hlcode"><pre><span class="err">$</span> <span class="n">yum</span> <span class="n">install</span> <span class="n">tmux</span>
</pre></div>


<p><strong>The session</strong></p>
<div class="hlcode"><pre><span class="cp"># 新建名称为 foo 的会话</span>
<span class="n">tmux</span> <span class="n">new</span> <span class="o">-</span><span class="n">s</span> <span class="n">foo</span> 

<span class="cp"># 列出所有 tmux 会话</span>
<span class="n">tmux</span> <span class="n">ls</span>

<span class="cp"># 恢复至上一次的会话</span>
<span class="n">tmux</span> <span class="n">a</span>

<span class="cp"># 恢复名称为 foo 的会话，会话默认名称为数字</span>
<span class="n">tmux</span> <span class="n">a</span> <span class="o">-</span><span class="n">t</span> <span class="n">foo</span> 

<span class="cp"># 删除名称为 foo 的会话</span>
<span class="n">tmux</span> <span class="n">kill</span><span class="o">-</span><span class="n">session</span> <span class="o">-</span><span class="n">t</span> <span class="n">foo</span>

<span class="cp"># 删除所有的会话</span>
<span class="n">tmux</span> <span class="n">kill</span><span class="o">-</span><span class="n">server</span> 

<span class="cp"># 剥离当前session</span>
<span class="n">Ctrl</span><span class="o">+</span><span class="n">b</span> <span class="n">d</span>

<span class="cp"># delete windows</span>
<span class="n">Ctrl</span><span class="o">+</span><span class="n">b</span> <span class="o">&amp;</span>
</pre></div>


<h3 id="shortcuts">Shortcuts</h3>
<blockquote>
<p>tmux 中所有的快捷键都需要和前缀快捷键 ⌃b来组合使用（注：⌃ 为 Mac 的 control 键）<br />
</p>
</blockquote>
<p><strong>窗格操作</strong></p>
<div class="hlcode"><pre><span class="s2">&quot;%&quot;</span> 左右平分出两个窗格
<span class="s1">&#39;&quot;&#39;</span> 上下平分出两个窗格
<span class="s2">&quot;x&quot;</span> 关闭当前窗格
<span class="s2">&quot;{&quot;</span> 当前窗格前移
<span class="s2">&quot;}&quot;</span> 当前窗格后移
<span class="s2">&quot;;&quot;</span> 选择上次使用的窗格
<span class="s2">&quot;o&quot;</span> 选择下一个窗格，也可以使用上下左右方向键来选择
<span class="s2">&quot;space&quot;</span> 切换窗格布局，tmux 内置了五种窗格布局，也可以通过 ⌥1至 ⌥5来切换
<span class="s2">&quot;z&quot;</span> 最大化当前窗格，再次执行可恢复原来大小
<span class="s2">&quot;q&quot;</span> 显示所有窗格的序号，在序号出现期间按下对应的数字，即可跳转至对应的窗格
</pre></div>


<p><strong>窗口操作</strong></p>
<p>tmux 除了窗格以外，还有窗口（window） 的概念。依次使用以下快捷键来熟悉 tmux 的窗口操作：</p>
<div class="hlcode"><pre><span class="s2">&quot;c&quot;</span> 新建窗口，此时当前窗口会切换至新窗口，不影响原有窗口的状态
<span class="s2">&quot;p&quot;</span> 切换至上一窗口
<span class="s2">&quot;n&quot;</span> 切换至下一窗口
<span class="s2">&quot;w&quot;</span> 窗口列表选择，注意 macOS 下使用 ⌃p和 ⌃n进行上下选择
<span class="s2">&quot;&amp;&quot;</span> 关闭当前窗口
<span class="s2">&quot;,&quot;</span> 重命名窗口，可以使用中文，重命名后能在 tmux 状态栏更快速的识别窗口 id
<span class="s2">&quot;0&quot;</span> 切换至 0 号窗口，使用其他数字 id 切换至对应窗口
<span class="s2">&quot;f&quot;</span> 根据窗口名搜索选择窗口，可模糊匹配
</pre></div>


<p><strong>tips</strong></p>
<blockquote>
<p>tmux 有个 bug ，导致从它启动的 vscode 的复制粘贴快捷键会失效；<br />
iTerm2 可以通过 「Preferences -&gt; Profiles -&gt; Keyboard Behavior -&gt; Left option key acts as +Esc」将键盘的左侧 option 键映射为 Meta 键</p>
</blockquote>
<h3 id="screen-command">Screen Command</h3>
<blockquote>
<p>screen -r sessionowner/[[pid.]tty[.host]]</p>
</blockquote>
<p><strong>install</strong></p>
<div class="hlcode"><pre><span class="err">$</span> <span class="n">yum</span> <span class="n">install</span> <span class="n">screen</span> <span class="o">-</span><span class="n">y</span>
</pre></div>


<p><strong>new screen</strong></p>
<div class="hlcode"><pre><span class="cp"># screen -S NAME</span>
<span class="err">$</span> <span class="n">screen</span> <span class="o">-</span><span class="n">S</span> <span class="n">test</span>
</pre></div>


<p><strong>exit screen</strong></p>
<div class="hlcode"><pre><span class="cp"># 退出</span>
<span class="err">$</span> <span class="n">exit</span>  

<span class="cp"># 剥离当前screen (running)</span>
    <span class="n">Ctrl</span><span class="o">+</span><span class="n">a</span><span class="p">,</span><span class="n">d</span>
</pre></div>


<p><strong>显示所有已经打开的screen</strong></p>
<div class="hlcode"><pre><span class="err">$</span> <span class="n">screen</span> <span class="o">-</span><span class="n">ls</span>
<span class="n">There</span> <span class="n">is</span> <span class="n">a</span> <span class="n">screen</span> <span class="n">on</span><span class="o">:</span>
    <span class="mf">17293.</span><span class="n">test</span>  <span class="p">(</span><span class="n">Detached</span><span class="p">)</span>
<span class="mi">1</span> <span class="n">Socket</span> <span class="n">in</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">run</span><span class="o">/</span><span class="n">screen</span><span class="o">/</span><span class="n">S</span><span class="o">-</span><span class="n">root</span><span class="p">.</span>
</pre></div>


<p><strong>恢复screen</strong></p>
<div class="hlcode"><pre><span class="cp"># screen -r -S name</span>
<span class="err">$</span> <span class="n">screen</span> <span class="o">-</span><span class="n">r</span> <span class="o">-</span><span class="n">S</span> <span class="n">test</span>
</pre></div>


<h3 id="refernece">REFERNECE</h3>
<p><a href="https://linuxize.com/post/getting-started-with-tmux/">tmux</a></p>
<p><a href="https://tmuxcheatsheet.com">tmuxCheatSHeet</a></p>
<p><a href="https://linuxize.com/post/how-to-use-linux-screen/">screen</a></p>
  
</div>
    </div>
    <div id="footer">
      <div class="footer-left">
        <p>
        Copyright © 2019 Uxun.
        Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.
        Theme by <a href="https://github.com/tankywoo/yasimple_x2" target="_blank">YASimple_X2</a>.
        </p>
      </div> <!-- end footer-left -->
      <div class="footer-right">
        <p>Page Updated 2019-09-20 11:56:16</p>
      </div> <!-- end footer-right -->
    </div>

    
    

  </body>
</html>