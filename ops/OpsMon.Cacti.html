<!DOCTYPE HTML>
<html>
  <head>
    <link rel="Stylesheet" type="text/css" href="/wiki/static/css/colorful.css">
    <link rel="Stylesheet" type="text/css" href="/wiki/static/css/style.css">
    <link rel="shortcut icon" href="/wiki/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/wiki/favicon.ico" type="image/x-icon">
    <link rel="alternate" type="application/atom+xml" href="atom.xml" title="Atom feed">
    <title>Cacti - Uxun's WIKI</title>
    <meta name="keywords" content=""/>
    <meta name="description" content=""/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
  </head>

  <body>
    <div id="container" class="typo">
      
<div id="header">
  <div id="post-nav">
    <a href="/wiki/">Uxun's WIKI</a>
    &nbsp;&#187;&nbsp;
    <a href="/wiki/#../../../Dropbox/wiki/ops">../../../Dropbox/wiki/ops</a>
    &nbsp;&#187;&nbsp;Cacti
    <span class="updated">Page Updated&nbsp;
    2019-08-21 13:00
    </span>
  </div>
</div>
<div class="clearfix"></div>
<div id="content">
  <h1 id="cacti">Cacti</h1>
<h3 id="client-deploy-snmpd">Client deploy snmpd</h3>
<div class="hlcode"><pre><span class="cp"># install snmp</span>
<span class="err">$</span> <span class="n">yum</span> <span class="o">-</span><span class="n">y</span> <span class="n">install</span> <span class="n">net</span><span class="o">-</span><span class="n">snmp</span> <span class="n">net</span><span class="o">-</span><span class="n">snmp</span><span class="o">-</span><span class="n">devel</span> <span class="n">net</span><span class="o">-</span><span class="n">snmp</span><span class="o">-</span><span class="n">utils</span>

<span class="cp"># create snmp v3 user and passwd 对应server </span>
<span class="err">$</span> <span class="n">net</span><span class="o">-</span><span class="n">snmp</span><span class="o">-</span><span class="n">create</span><span class="o">-</span><span class="n">v3</span><span class="o">-</span><span class="n">user</span> <span class="o">-</span><span class="n">ro</span> <span class="o">-</span><span class="n">A</span> <span class="n">PASSWORD</span> <span class="o">-</span><span class="n">a</span> <span class="n">MD5</span> <span class="n">xwzc</span>

<span class="cp"># start snmpd</span>
<span class="err">$</span> <span class="n">systemctl</span> <span class="n">start</span> <span class="n">snmpd</span>

<span class="cp"># Local validation</span>
<span class="err">$</span> <span class="n">snmpwalk</span> <span class="o">-</span><span class="n">v</span> <span class="mi">3</span> <span class="o">-</span><span class="n">u</span> <span class="n">USER</span> <span class="o">-</span><span class="n">a</span> <span class="n">MD5</span> <span class="o">-</span><span class="n">A</span> <span class="n">PASSWORD</span> <span class="o">-</span><span class="n">l</span> <span class="n">authNoPriv</span> <span class="mf">127.0.0.1</span> <span class="mf">.1.3.6.1.4.1.2021.4.11.0</span>

<span class="cp"># Server Verify the client</span>
<span class="cp"># v3 version</span>
<span class="cp"># e.g: snmpwalk -v 3 -u $USER -a MD5 -A $PASSWD -l authNoPriv $IP .1.3.6.1.4.1.2021.4.11.0 </span>
<span class="err">$</span> <span class="n">snmpwalk</span> <span class="o">-</span><span class="n">v</span> <span class="mi">3</span> <span class="o">-</span><span class="n">u</span> <span class="n">USER</span> <span class="o">-</span><span class="n">a</span> <span class="n">MD5</span> <span class="o">-</span><span class="n">A</span> <span class="n">PASSWORD</span> <span class="o">-</span><span class="n">l</span> <span class="n">authNoPriv</span> <span class="mf">192.168.1.41</span> <span class="mf">.1.3.6.1.4.1.2021.4.11.0</span> 

<span class="cp"># v2 version</span>
<span class="err">$</span> <span class="n">snmpwalk</span> <span class="o">-</span><span class="n">c</span> <span class="n">public</span><span class="err">#</span><span class="n">salt</span> <span class="o">-</span><span class="n">v</span> <span class="mi">2</span><span class="n">c</span> <span class="mf">192.168.1.41</span> <span class="mf">.1.3.6.1.4.1.2021.11.53.0</span>
</pre></div>


<h3 id="custom-oid">Custom OID</h3>
<p><strong>1.Scripts</strong></p>
<p>编写所需脚本</p>
<div class="hlcode"><pre><span class="cp"># e.g</span>
<span class="cp">#!/bin/bash</span>
<span class="cp"># 统计过去5分钟 dfs总请求数/2xx数/3xx数/4xx数/5xx数/200平均响应时间/响应超过1秒</span>
<span class="cp"># last 5 minute files</span>
<span class="n">file1</span><span class="o">=</span><span class="err">&#39;&#39;</span><span class="p">;</span>
<span class="k">for</span> <span class="n">i</span> <span class="n">in</span> <span class="err">`</span><span class="n">seq</span> <span class="mi">1</span> <span class="mi">5</span><span class="err">`</span><span class="p">;</span><span class="k">do</span>
    <span class="n">file1</span><span class="o">=</span><span class="s">&quot;/log/m/alog/nginx/nginx_dfs_pv/`date +&quot;</span><span class="o">%</span><span class="n">Y</span><span class="o">%</span><span class="n">m</span><span class="o">%</span><span class="n">d</span><span class="o">%</span><span class="n">H</span><span class="o">%</span><span class="n">M</span><span class="s">&quot; -d &quot;</span><span class="err">$</span><span class="n">i</span> <span class="n">minute</span> <span class="n">ago</span><span class="s">&quot;`.log &quot;</span><span class="err">$</span><span class="n">file1</span><span class="p">;</span>
<span class="n">done</span>

<span class="n">file</span><span class="o">=</span><span class="err">&#39;&#39;</span>
<span class="k">for</span> <span class="n">i</span> <span class="n">in</span> <span class="err">`</span><span class="n">echo</span> <span class="err">$</span><span class="n">file1</span><span class="err">`</span>
<span class="k">do</span>
  <span class="n">test</span> <span class="o">-</span><span class="n">s</span> <span class="s">&quot;$i&quot;</span> <span class="o">&amp;&amp;</span> <span class="n">file</span><span class="o">=</span><span class="s">&quot;$i &quot;</span><span class="err">$</span><span class="n">file</span>
<span class="n">done</span>

<span class="cp">#echo $file1</span>
<span class="cp">#echo $file</span>

<span class="k">if</span> <span class="n">test</span> <span class="o">-</span><span class="n">z</span> <span class="s">&quot;$file&quot;</span><span class="p">;</span><span class="n">then</span>
    <span class="n">echo</span> <span class="s">&quot;0 0 0 0 0 0 0&quot;</span> <span class="o">&gt;</span> <span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">last5nginxdfslog</span><span class="p">.</span><span class="n">txt</span>
<span class="k">else</span>
    <span class="n">dfsrequesttotal</span><span class="o">=</span><span class="err">`</span><span class="n">cat</span> <span class="err">$</span><span class="n">file</span> <span class="o">|</span><span class="n">wc</span> <span class="o">-</span><span class="n">l</span><span class="err">`</span>
    <span class="n">posttotal</span><span class="o">=</span><span class="err">`</span><span class="n">awk</span> <span class="err">&#39;$</span><span class="mi">9</span> <span class="o">~</span> <span class="o">/</span><span class="n">POST</span><span class="o">/</span><span class="p">{</span><span class="n">print</span> <span class="err">$</span><span class="mi">0</span><span class="p">}</span><span class="err">&#39;</span> <span class="err">$</span><span class="n">file</span> <span class="o">|</span> <span class="n">wc</span> <span class="o">-</span><span class="n">l</span><span class="err">`</span>
    <span class="n">post2xx</span><span class="o">=</span><span class="err">`</span><span class="n">awk</span> <span class="err">&#39;$</span><span class="mi">9</span> <span class="o">~</span> <span class="o">/</span><span class="n">POST</span><span class="o">/</span> <span class="o">&amp;&amp;</span> <span class="err">$</span><span class="mi">12</span> <span class="o">~</span> <span class="o">/^</span><span class="mi">2</span><span class="o">/</span><span class="p">{</span><span class="n">print</span> <span class="err">$</span><span class="mi">0</span><span class="p">}</span><span class="err">&#39;</span> <span class="err">$</span><span class="n">file</span> <span class="o">|</span> <span class="n">wc</span> <span class="o">-</span><span class="n">l</span><span class="err">`</span>
    <span class="n">post3xx</span><span class="o">=</span><span class="err">`</span><span class="n">awk</span> <span class="err">&#39;$</span><span class="mi">9</span> <span class="o">~</span> <span class="o">/</span><span class="n">POST</span><span class="o">/</span> <span class="o">&amp;&amp;</span> <span class="err">$</span><span class="mi">12</span> <span class="o">~</span> <span class="o">/^</span><span class="mi">3</span><span class="o">/</span><span class="p">{</span><span class="n">print</span> <span class="err">$</span><span class="mi">0</span><span class="p">}</span><span class="err">&#39;</span> <span class="err">$</span><span class="n">file</span> <span class="o">|</span> <span class="n">wc</span> <span class="o">-</span><span class="n">l</span><span class="err">`</span>
    <span class="n">post4xx</span><span class="o">=</span><span class="err">`</span><span class="n">awk</span> <span class="err">&#39;$</span><span class="mi">9</span> <span class="o">~</span> <span class="o">/</span><span class="n">POST</span><span class="o">/</span> <span class="o">&amp;&amp;</span> <span class="err">$</span><span class="mi">12</span> <span class="o">~</span> <span class="o">/^</span><span class="mi">4</span><span class="o">/</span><span class="p">{</span><span class="n">print</span> <span class="err">$</span><span class="mi">0</span><span class="p">}</span><span class="err">&#39;</span> <span class="err">$</span><span class="n">file</span> <span class="o">|</span> <span class="n">wc</span> <span class="o">-</span><span class="n">l</span><span class="err">`</span>
    <span class="n">post5xx</span><span class="o">=</span><span class="err">`</span><span class="n">awk</span> <span class="err">&#39;$</span><span class="mi">9</span> <span class="o">~</span> <span class="o">/</span><span class="n">POST</span><span class="o">/</span> <span class="o">&amp;&amp;</span> <span class="err">$</span><span class="mi">12</span> <span class="o">~</span> <span class="o">/^</span><span class="mi">5</span><span class="o">/</span><span class="p">{</span><span class="n">print</span> <span class="err">$</span><span class="mi">0</span><span class="p">}</span><span class="err">&#39;</span> <span class="err">$</span><span class="n">file</span> <span class="o">|</span> <span class="n">wc</span> <span class="o">-</span><span class="n">l</span><span class="err">`</span>
    <span class="n">gettotal</span><span class="o">=</span><span class="err">`</span><span class="n">awk</span> <span class="err">&#39;$</span><span class="mi">9</span> <span class="o">~</span> <span class="o">/</span><span class="n">GET</span><span class="o">/</span> <span class="p">{</span><span class="n">print</span> <span class="err">$</span><span class="mi">0</span><span class="p">}</span><span class="err">&#39;</span> <span class="err">$</span><span class="n">file</span> <span class="o">|</span><span class="n">wc</span> <span class="o">-</span><span class="n">l</span><span class="err">`</span>
    <span class="n">getxx2</span><span class="o">=</span><span class="err">`</span><span class="n">awk</span> <span class="err">&#39;$</span><span class="mi">9</span> <span class="o">~</span> <span class="o">/</span><span class="n">GET</span><span class="o">/</span> <span class="o">&amp;&amp;</span> <span class="err">$</span><span class="mi">12</span> <span class="o">~</span> <span class="o">/^</span><span class="mi">2</span><span class="o">/</span> <span class="p">{</span><span class="n">print</span> <span class="err">$</span><span class="mi">0</span><span class="p">}</span><span class="err">&#39;</span> <span class="err">$</span><span class="n">file</span> <span class="o">|</span><span class="n">wc</span> <span class="o">-</span><span class="n">l</span><span class="err">`</span>
    <span class="n">getxx3</span><span class="o">=</span><span class="err">`</span><span class="n">awk</span> <span class="err">&#39;$</span><span class="mi">9</span> <span class="o">~</span> <span class="o">/</span><span class="n">GET</span><span class="o">/</span> <span class="o">&amp;&amp;</span> <span class="err">$</span><span class="mi">12</span> <span class="o">~</span> <span class="o">/^</span><span class="mi">3</span><span class="o">/</span> <span class="p">{</span><span class="n">print</span> <span class="err">$</span><span class="mi">0</span><span class="p">}</span><span class="err">&#39;</span> <span class="err">$</span><span class="n">file</span> <span class="o">|</span><span class="n">wc</span> <span class="o">-</span><span class="n">l</span><span class="err">`</span>
    <span class="n">getxx4</span><span class="o">=</span><span class="err">`</span><span class="n">awk</span> <span class="err">&#39;$</span><span class="mi">9</span> <span class="o">~</span> <span class="o">/</span><span class="n">GET</span><span class="o">/</span> <span class="o">&amp;&amp;</span> <span class="err">$</span><span class="mi">12</span> <span class="o">~</span> <span class="o">/^</span><span class="mi">4</span><span class="o">/</span> <span class="p">{</span><span class="n">print</span> <span class="err">$</span><span class="mi">0</span><span class="p">}</span><span class="err">&#39;</span> <span class="err">$</span><span class="n">file</span> <span class="o">|</span><span class="n">wc</span> <span class="o">-</span><span class="n">l</span><span class="err">`</span>
    <span class="n">getxx5</span><span class="o">=</span><span class="err">`</span><span class="n">awk</span> <span class="err">&#39;$</span><span class="mi">9</span> <span class="o">~</span> <span class="o">/</span><span class="n">GET</span><span class="o">/</span> <span class="o">&amp;&amp;</span> <span class="err">$</span><span class="mi">12</span> <span class="o">~</span> <span class="o">/^</span><span class="mi">5</span><span class="o">/</span> <span class="p">{</span><span class="n">print</span> <span class="err">$</span><span class="mi">0</span><span class="p">}</span><span class="err">&#39;</span> <span class="err">$</span><span class="n">file</span> <span class="o">|</span><span class="n">wc</span> <span class="o">-</span><span class="n">l</span><span class="err">`</span>
    <span class="n">echo</span> <span class="s">&quot;$dfsrequesttotal $posttotal $post2xx $post3xx $post4xx $post5xx $gettotal $getxx2 $getxx3 $getxx4 $getxx5&quot;</span>  <span class="o">&gt;</span> <span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">last5nginxdfslog</span><span class="p">.</span><span class="n">txt</span>
<span class="n">fi</span>
</pre></div>


<p><strong>2.Modify snmpd.conf</strong></p>
<p>修改/etc/snmp/snmpd.conf，添加即可，然后reload</p>
<div class="hlcode"><pre><span class="n">extend</span> <span class="mf">.1.3.6.1.4.1.2021.7001</span> <span class="n">check_ngxlog</span> <span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">bash</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">snmp</span><span class="o">/</span><span class="n">last5logdfs</span><span class="p">.</span><span class="n">sh</span> <span class="n">dfsrequesttotal</span>
<span class="n">extend</span> <span class="mf">.1.3.6.1.4.1.2021.7002</span> <span class="n">check_ngxlog</span> <span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">bash</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">snmp</span><span class="o">/</span><span class="n">last5logdfs</span><span class="p">.</span><span class="n">sh</span> <span class="n">posttotal</span>
<span class="n">extend</span> <span class="mf">.1.3.6.1.4.1.2021.7003</span> <span class="n">check_ngxlog</span> <span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">bash</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">snmp</span><span class="o">/</span><span class="n">last5logdfs</span><span class="p">.</span><span class="n">sh</span> <span class="n">post2xx</span>
<span class="n">extend</span> <span class="mf">.1.3.6.1.4.1.2021.7004</span> <span class="n">check_ngxlog</span> <span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">bash</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">snmp</span><span class="o">/</span><span class="n">last5logdfs</span><span class="p">.</span><span class="n">sh</span> <span class="n">post3xx</span>
<span class="n">extend</span> <span class="mf">.1.3.6.1.4.1.2021.7005</span> <span class="n">check_ngxlog</span> <span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">bash</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">snmp</span><span class="o">/</span><span class="n">last5logdfs</span><span class="p">.</span><span class="n">sh</span> <span class="n">post4xx</span>
<span class="n">extend</span> <span class="mf">.1.3.6.1.4.1.2021.7006</span> <span class="n">check_ngxlog</span> <span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">bash</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">snmp</span><span class="o">/</span><span class="n">last5logdfs</span><span class="p">.</span><span class="n">sh</span> <span class="n">post5xx</span>
<span class="n">extend</span> <span class="mf">.1.3.6.1.4.1.2021.7007</span> <span class="n">check_ngxlog</span> <span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">bash</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">snmp</span><span class="o">/</span><span class="n">last5logdfs</span><span class="p">.</span><span class="n">sh</span> <span class="n">gettotal</span>
<span class="n">extend</span> <span class="mf">.1.3.6.1.4.1.2021.7008</span> <span class="n">check_ngxlog</span> <span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">bash</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">snmp</span><span class="o">/</span><span class="n">last5logdfs</span><span class="p">.</span><span class="n">sh</span> <span class="n">get2xx</span>
<span class="n">extend</span> <span class="mf">.1.3.6.1.4.1.2021.7009</span> <span class="n">check_ngxlog</span> <span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">bash</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">snmp</span><span class="o">/</span><span class="n">last5logdfs</span><span class="p">.</span><span class="n">sh</span> <span class="n">get3xx</span>
<span class="n">extend</span> <span class="mf">.1.3.6.1.4.1.2021.7010</span> <span class="n">check_ngxlog</span> <span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">bash</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">snmp</span><span class="o">/</span><span class="n">last5logdfs</span><span class="p">.</span><span class="n">sh</span> <span class="n">get4xx</span>
<span class="n">extend</span> <span class="mf">.1.3.6.1.4.1.2021.7011</span> <span class="n">check_ngxlog</span> <span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">bash</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">snmp</span><span class="o">/</span><span class="n">last5logdfs</span><span class="p">.</span><span class="n">sh</span> <span class="n">get5xx</span>
</pre></div>


<p>End test</p>
<div class="hlcode"><pre><span class="err">$</span> <span class="n">snmpwalk</span> <span class="o">-</span><span class="n">v</span> <span class="mi">3</span> <span class="o">-</span><span class="n">u</span> <span class="n">USER</span> <span class="o">-</span><span class="n">a</span> <span class="n">MD5</span> <span class="o">-</span><span class="n">A</span> <span class="n">PASSWORD</span> <span class="o">-</span><span class="n">l</span> <span class="n">authNoPriv</span> <span class="n">localhost</span> <span class="mf">.1.3.6.1.4.1.2021.7001</span>
<span class="n">UCD</span><span class="o">-</span><span class="n">SNMP</span><span class="o">-</span><span class="n">MIB</span><span class="o">::</span><span class="n">ucdavis</span><span class="mf">.7001.1.0</span> <span class="o">=</span> <span class="n">INTEGER</span><span class="o">:</span> <span class="mi">49</span> 
<span class="p">....</span>
<span class="n">UCD</span><span class="o">-</span><span class="n">SNMP</span><span class="o">-</span><span class="n">MIB</span><span class="o">::</span><span class="n">ucdavis</span><span class="mf">.7001.3.1.1.12.99.104.101.99.107.95.110.103.120.108.111.103</span> <span class="o">=</span> <span class="n">STRING</span><span class="o">:</span> <span class="s">&quot;3740&quot;</span>
<span class="n">UCD</span><span class="o">-</span><span class="n">SNMP</span><span class="o">-</span><span class="n">MIB</span><span class="o">::</span><span class="n">ucdavis</span><span class="mf">.7001.4.1.2.12.99.104.101.99.107.95.110.103.120.108.111.103.1</span> <span class="o">=</span> <span class="n">STRING</span><span class="o">:</span> <span class="s">&quot;3740&quot;</span>
<span class="p">....</span>

<span class="err">我们要的这个</span>
<span class="n">OID</span> <span class="n">UCD</span><span class="o">-</span><span class="n">SNMP</span><span class="o">-</span><span class="n">MIB</span><span class="o">::</span><span class="n">ucdavis</span><span class="mf">.7001.4.1.2.12.99.104.101.99.107.95.110.103.120.108.111.103.1</span> <span class="o">=</span> <span class="n">STRING</span><span class="o">:</span> <span class="s">&quot;3740&quot;</span> 

<span class="err">$</span> <span class="n">snmpwalk</span> <span class="o">-</span><span class="n">v</span> <span class="mi">3</span> <span class="o">-</span><span class="n">u</span> <span class="n">USER</span> <span class="o">-</span><span class="n">a</span> <span class="n">MD5</span> <span class="o">-</span><span class="n">A</span> <span class="n">PASSWORD</span> <span class="o">-</span><span class="n">l</span> <span class="n">authNoPriv</span> <span class="n">localhost</span> <span class="mf">.1.3.6.1.4.1.2021.7001.4.1.2.12.99.104.101.99.107.95.110.103.120.108.111.103.1</span>
<span class="n">UCD</span><span class="o">-</span><span class="n">SNMP</span><span class="o">-</span><span class="n">MIB</span><span class="o">::</span><span class="n">ucdavis</span><span class="mf">.7001.4.1.2.12.99.104.101.99.107.95.110.103.120.108.111.103.1</span> <span class="o">=</span> <span class="n">STRING</span><span class="o">:</span> <span class="s">&quot;11323&quot;</span>
</pre></div>


<p><strong>3.生成数据源</strong></p>
<p>cacti界面中console-&gt;Templates-&gt;Data Templates</p>
<p>Associated RRA's 是选后面3个,Data Source中的name将来显示在Data Sources中，添加“|host_description|-MonitorMailq”，设置完之后点击create，OID那一项，把我们上面记下来的OID填写进去。</p>
<p><img alt="" src="https://raw.githubusercontent.com/uxun/img/master/imgs/20190829231921.png" /></p>
<p><strong>4.添加图形模板</strong></p>
<p>cacti界面中console-&gt;Templates-&gt;Graph Templates</p>
<p><img alt="" src="https://raw.githubusercontent.com/uxun/img/master/imgs/990be969-47ca-4d3c-a0ea-beafb79de20c.png" /></p>
<p>Graph Template中的name是将来显示在图片上面中间的内容，添加"|host_description|-MonitorMailq"，然后create，上面会多出一些选项，Graph Template Items 这里就是让我们添加数据源；这里增加Graph Item Type为AVEA区域显示类型；</p>
<p><img alt="" src="https://raw.githubusercontent.com/uxun/img/master/imgs/16b9a01b-3c03-4548-9034-f34269362ce7.png" /></p>
<p>分别增加：average/last/max这几个类型的数据源，记得Max的值需要打勾Insert Hard Retrun。</p>
<p><img alt="" src="https://raw.githubusercontent.com/uxun/img/master/imgs/559fd72e-e8c8-455c-baff-17aa6157ebd1.png" /></p>
<p><strong>5.Add host</strong></p>
<p>Devices -&gt; Graph Templates -&gt; create -&gt; add host -&gt; Create Graphs For This Host -&gt; Create</p>
<p><img alt="" src="https://raw.githubusercontent.com/uxun/img/master/imgs/662ea7bb-a315-4ac4-8428-3b8f420bc99e.jpg" /></p>
<h3 id="refernece">REFERNECE</h3>
<p><a href="https://docs.cacti.net/">deploy</a></p>
  
</div>
    </div>
    <div id="footer">
      <div class="footer-left">
        <p>
        Copyright © 2019 Uxun.
        Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.
        Theme by <a href="https://github.com/tankywoo/yasimple_x2" target="_blank">YASimple_X2</a>.
        </p>
      </div> <!-- end footer-left -->
      <div class="footer-right">
        <p>Page Updated 2019-09-11 10:06:50</p>
      </div> <!-- end footer-right -->
    </div>

    
    

  </body>
</html>