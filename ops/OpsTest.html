<!DOCTYPE HTML>
<html>
  <head>
    <link rel="Stylesheet" type="text/css" href="/wiki/static/css/colorful.css">
    <link rel="Stylesheet" type="text/css" href="/wiki/static/css/style.css">
    <link rel="shortcut icon" href="/wiki/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/wiki/favicon.ico" type="image/x-icon">
    <link rel="alternate" type="application/atom+xml" href="atom.xml" title="Atom feed">
    <title>TestNetwork - Uxun's WIKI</title>
    <meta name="keywords" content=""/>
    <meta name="description" content=""/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
  </head>

  <body>
    <div id="container" class="typo">
      
<div id="header">
  <div id="post-nav">
    <a href="/wiki/">Uxun's WIKI</a>
    &nbsp;&#187;&nbsp;
    <a href="/wiki/#ops">ops</a>
    &nbsp;&#187;&nbsp;TestNetwork
    <span class="updated">Page Updated&nbsp;
    2019-08-21 13:00
    </span>
  </div>
</div>
<div class="clearfix"></div>
<div id="content">
  <h1 id="test">Test</h1>
<p><strong>Tools list</strong></p>
<p>1.mtr</p>
<p>2.traceroute</p>
<p>3.arp</p>
<p>4.curl</p>
<h3 id="mtr">MTR</h3>
<p><strong>linux 网络诊断和隔离网络错误</strong></p>
<blockquote>
<p>-s : ping 包大小<br />
-c : ping 包数量<br />
-r : 生成报告<br />
-n: 不解析主机名<br />
-i : 设置icmp返回直接时间<br />
-rw : 使用主机名</p>
</blockquote>
<div class="hlcode"><pre><span class="cp"># yum install mtr</span>
<span class="err">$</span> <span class="n">mtr</span> <span class="o">-</span><span class="n">c</span> <span class="mi">400</span> <span class="o">-</span><span class="n">i</span> <span class="mf">0.1</span> <span class="o">-</span><span class="n">n</span> <span class="o">-</span><span class="n">r</span> <span class="n">IP</span> <span class="n">or</span> <span class="n">domain</span>

<span class="err">$</span> <span class="n">mtr</span> <span class="o">--</span><span class="n">report</span> <span class="n">google</span><span class="p">.</span><span class="n">com</span>
<span class="nl">Start:</span> <span class="n">Fri</span> <span class="n">Sep</span>  <span class="mi">6</span> <span class="mi">23</span><span class="o">:</span><span class="mi">55</span><span class="o">:</span><span class="mi">50</span> <span class="mi">2019</span>
<span class="nl">HOST:</span> <span class="n">ops</span><span class="o">-</span><span class="mo">04</span>                      <span class="n">Loss</span><span class="o">%</span>   <span class="n">Snt</span>   <span class="n">Last</span>   <span class="n">Avg</span>  <span class="n">Best</span>  <span class="n">Wrst</span> <span class="n">StDev</span>
  <span class="mf">1.</span><span class="o">|--</span> <span class="n">gateway</span>                    <span class="mf">0.0</span><span class="o">%</span>    <span class="mi">10</span>    <span class="mf">1.8</span>   <span class="mf">1.9</span>   <span class="mf">1.6</span>   <span class="mf">2.8</span>   <span class="mf">0.0</span>
  <span class="mf">2.</span><span class="o">|--</span> <span class="mf">10.0.0.1</span>                   <span class="mf">0.0</span><span class="o">%</span>    <span class="mi">10</span>    <span class="mf">0.7</span>   <span class="mf">0.6</span>   <span class="mf">0.5</span>   <span class="mf">0.8</span>   <span class="mf">0.0</span>
<span class="p">...</span>
 <span class="mf">13.</span><span class="o">|--</span> <span class="o">???</span>                       <span class="mf">100.0</span>    <span class="mi">10</span>    <span class="mf">0.0</span>   <span class="mf">0.0</span>   <span class="mf">0.0</span>   <span class="mf">0.0</span>   <span class="mf">0.0</span>
 <span class="mf">14.</span><span class="o">|--</span> <span class="mf">220.181.38.148</span>             <span class="mf">0.0</span><span class="o">%</span>    <span class="mi">10</span>   <span class="mf">35.4</span>  <span class="mf">35.4</span>  <span class="mf">35.1</span>  <span class="mf">35.5</span>   <span class="mf">0.0</span>
</pre></div>


<h3 id="traceroute">traceroute</h3>
<p><strong>跟踪路由</strong></p>
<blockquote>
<ul>
<li>-d 使用Socket层级的排错功能。</li>
<li>-f 设置第一个检测数据包的存活数值TTL的大小。</li>
<li>-F 设置不要分段标识。</li>
<li>-g 设置来源路由网关，最多可设置8个。</li>
<li>-i 使用指定的网卡送出数据包。用于主机有多个网卡时。</li>
<li>-I 使用ICMP数据包替代 UDP 数据包进行探测。</li>
<li>-m 设置检测数据包的最大存活数值TTL的大小。</li>
<li>-n 直接使用IP地址而非主机名称（禁用 DNS 反查）。</li>
<li>-p 设置UDP传输协议的通信端口。</li>
<li>-r 忽略普通的Routing Table，直接将数据包送到远端主机上。</li>
<li>-s 设置本地主机送出数据包的IP地址。</li>
<li>-t 设置检测数据包的TOS数值。</li>
<li>-v 详细显示指令的执行过程。</li>
<li>-w 设置等待远端主机回包时间。</li>
<li>-x 开启或关闭数据包的正确性检验。</li>
</ul>
</blockquote>
<div class="hlcode"><pre><span class="cp"># yum install traceroute</span>
<span class="err">$</span> <span class="n">traceroute</span> <span class="o">-</span><span class="n">n</span> <span class="n">google</span><span class="p">.</span><span class="n">com</span>
</pre></div>


<h3 id="arp">arp</h3>
<p><strong>地址解析协议</strong></p>
<blockquote>
<p>-a 显示主机地址与IP地址的对应表<br />
-v arp缓冲区条目，包括缓冲区条目的统计信息<br />
-f<file>：设置主机的IP地址与MAC地址的静态映射<br />
-d&lt;主机&gt;：从arp缓冲区中删除指定主机的arp条目<br />
-i&lt;接口&gt;：指定要操作arp缓冲区的网络接口；<br />
-s&lt;主机&gt;<MAC地址>：设置指定的主机的IP地址与MAC地址的静态映射；</p>
</blockquote>
<div class="hlcode"><pre><span class="err">$</span> <span class="n">arp</span> <span class="o">-</span><span class="n">a</span> <span class="mf">192.168.0.1</span>
<span class="err">$</span> <span class="n">arp</span> <span class="o">-</span><span class="n">vi</span> <span class="n">eth0</span>
<span class="n">Address</span>                  <span class="n">HWtype</span>  <span class="n">HWaddress</span>           <span class="n">Flags</span> <span class="n">Mask</span>            <span class="n">Iface</span>
<span class="mf">192.168.0.23</span>             <span class="n">ether</span>   <span class="mi">72</span><span class="o">:</span><span class="n">a9</span><span class="o">:</span><span class="n">be</span><span class="o">:</span><span class="mi">98</span><span class="o">:</span><span class="mi">53</span><span class="o">:</span><span class="mi">47</span>   <span class="n">C</span>                     <span class="n">eth0</span>
<span class="mf">192.168.0.22</span>             <span class="n">ether</span>   <span class="mo">02</span><span class="o">:</span><span class="mi">12</span><span class="o">:</span><span class="n">ef</span><span class="o">:</span><span class="mi">88</span><span class="o">:</span><span class="mi">4</span><span class="n">b</span><span class="o">:</span><span class="mi">1</span><span class="n">c</span>   <span class="n">C</span>                     <span class="n">eth0</span>
<span class="n">gateway</span>                  <span class="n">ether</span>   <span class="mi">3</span><span class="n">c</span><span class="o">:</span><span class="mi">8</span><span class="n">c</span><span class="o">:</span><span class="mi">40</span><span class="o">:</span><span class="mi">5</span><span class="n">e</span><span class="o">:</span><span class="mi">7</span><span class="n">a</span><span class="o">:</span><span class="mi">0</span><span class="n">d</span>   <span class="n">C</span>                     <span class="n">eth0</span>
<span class="nl">Entries:</span> <span class="mi">9</span>  <span class="n">Skipped</span><span class="o">:</span> <span class="mi">6</span>  <span class="n">Found</span><span class="o">:</span> <span class="mi">3</span>
</pre></div>


<h3 id="curl-refernece">curl <a href="https://curl.haxx.se/docs/manpage.html">REFERNECE</a></h3>
<blockquote>
<p>-f : no show http error<br />
-S : show error<br />
-s : Don't output anything<br />
-p : use http proxy<br />
-C : Resumed transfer offset<br />
-H \&lt;header:value> : Custom header to pass to server (H)<br />
-d : HTTP POST data<br />
-X :  COMMAND<br />
-x : --proxy [PROTOCOL://]HOST[:PORT] Use proxy on given port<br />
-G : Send the -d data with a HTTP GET (H)</p>
<p>-L : Follow redirects (H)</p>
</blockquote>
<div class="hlcode"><pre><span class="cp"># HEAD info</span>
<span class="n">curl</span> <span class="o">-</span><span class="n">I</span> <span class="n">URL</span>

<span class="cp"># GET</span>
<span class="n">curl</span> <span class="n">http</span><span class="o">:</span><span class="c1">//xxx.com/login.cgi?user=sadfa&amp;password=12345</span>

<span class="cp"># POST</span>
<span class="n">curl</span> <span class="o">-</span><span class="n">X</span> <span class="n">POST</span> <span class="o">--</span><span class="n">data</span><span class="err">“</span><span class="n">data</span> <span class="o">=</span> <span class="n">xxx</span><span class="err">”</span> <span class="n">example</span><span class="p">.</span><span class="n">com</span><span class="o">/</span><span class="n">form</span><span class="p">.</span><span class="n">cgi</span>

<span class="cp"># Download</span>
<span class="n">curl</span> <span class="o">-</span><span class="n">fSL</span> <span class="n">URL</span> <span class="o">-</span><span class="n">o</span> <span class="n">fileName</span>
<span class="n">curl</span> <span class="n">http</span><span class="o">:</span><span class="c1">//mirrors.aliyun.com/repo/Centos-7.repo -O</span>

<span class="cp"># Proxy</span>
<span class="err">$</span> <span class="n">curl</span> <span class="n">URL</span> <span class="o">--</span><span class="n">user</span><span class="o">-</span><span class="n">agent</span> <span class="s">&quot;Mozilla/5.0&quot;</span>
<span class="err">$</span> <span class="n">curl</span> <span class="n">URL</span> <span class="o">-</span><span class="n">A</span> <span class="s">&quot;Mozilla/5.0&quot;</span>

<span class="cp"># HTTP FTP authentication</span>
<span class="n">curl</span> <span class="o">-</span><span class="n">u</span> <span class="n">user</span><span class="o">:</span><span class="n">pwd</span> <span class="n">URL</span>
<span class="n">curl</span> <span class="o">-</span><span class="n">u</span> <span class="n">user</span> <span class="n">URL</span>

<span class="cp"># install </span>
<span class="n">curl</span> <span class="o">-</span><span class="n">sSL</span> <span class="n">https</span><span class="o">:</span><span class="c1">//get.docker.com/ | sh</span>

<span class="cp"># Forge a browser</span>
<span class="n">curl</span> <span class="o">-</span><span class="n">A</span> <span class="s">&quot;Mozilla/5.0 (compatible; MSIE 6.0; Windows NT 5.0)&quot;</span> <span class="o">-</span><span class="n">x192</span><span class="mf">.41.7.19</span><span class="o">:</span><span class="mi">1080</span> <span class="o">-</span><span class="n">o</span> <span class="n">page</span><span class="p">.</span><span class="n">html</span> <span class="o">-</span><span class="n">D</span> <span class="n">cookie0001</span><span class="p">.</span><span class="n">txt</span> <span class="n">http</span><span class="o">:</span><span class="c1">//mydomain.net</span>

<span class="cp"># Forge referer</span>
<span class="n">curl</span> <span class="o">-</span><span class="n">A</span> <span class="s">&quot;Mozilla/5.0 (compatible; MSIE 6.0; Windows NT 5.0)&quot;</span> <span class="o">-</span><span class="n">x132</span><span class="mf">.45.67.89</span><span class="o">:</span><span class="mi">1080</span> <span class="o">-</span><span class="n">e</span><span class="s">&quot;mail.yahoo.com&quot;</span> <span class="o">-</span><span class="n">o</span> <span class="n">page</span><span class="p">.</span><span class="n">html</span> <span class="o">-</span><span class="n">D</span> <span class="n">cookie0001</span><span class="p">.</span><span class="n">txt</span> <span class="n">http</span><span class="o">:</span><span class="c1">//mydomain.net</span>

<span class="cp"># user coolie</span>
<span class="n">curl</span> <span class="o">-</span><span class="n">x</span> <span class="mf">123.45.67.89</span><span class="o">:</span><span class="mi">1080</span> <span class="o">-</span><span class="n">o</span> <span class="n">page1</span><span class="p">.</span><span class="n">html</span> <span class="o">-</span><span class="n">D</span> <span class="n">cookie0002</span><span class="p">.</span><span class="n">txt</span> <span class="o">-</span><span class="n">b</span> <span class="n">cookie0001</span><span class="p">.</span><span class="n">txt</span> <span class="n">http</span><span class="o">:</span><span class="c1">//mydomain.net</span>
</pre></div>


<h3 id="refernece"><a href="https://www.jianshu.com/p/07c4dddae43a">REFERNECE</a></h3>
  
</div>
    </div>
    <div id="footer">
      <div class="footer-left">
        <p>
        Copyright © 2019 Uxun.
        Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.
        Theme by <a href="https://github.com/tankywoo/yasimple_x2" target="_blank">YASimple_X2</a>.
        </p>
      </div> <!-- end footer-left -->
      <div class="footer-right">
        <p>Page Updated 2019-09-19 16:47:12</p>
      </div> <!-- end footer-right -->
    </div>

    
    

  </body>
</html>